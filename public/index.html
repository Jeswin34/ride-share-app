<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RideShare — UI Prototype</title>
  <!-- Tailwind CDN for quick prototype -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root { --brand: #0ea5a4; --muted: #6b7280; }
    body { font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
    /* map placeholder gradient */
    .map-placeholder { background: linear-gradient(135deg,#e6fffa, #f0f9ff); }
    /* small card shadow */
    .card-shadow { box-shadow: 0 6px 18px rgba(2,6,23,0.08); }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="max-w-6xl mx-auto p-4">
    <!-- Header -->
    <header class="flex items-center justify-between py-4">
      <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-cyan-500 flex items-center justify-center text-white font-bold">RS</div>
        <div>
          <h1 class="text-lg font-semibold">RideShare</h1>
          <p class="text-xs text-[]var(--muted)">Fast. Friendly. Reliable.</p>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-4 text-sm text-gray-600">
        <a href="#" class="hover:underline">Profile</a>
        <a href="#" class="hover:underline">History</a>
        <a href="#" class="hover:underline">Help</a>
        <button id="btn-sos" class="ml-2 px-3 py-1 rounded-md bg-red-500 text-white text-sm">SOS</button>
      </nav>
    </header>

    <main class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Left: Search & Options -->
      <section class="md:col-span-1 space-y-4">
        <div class="p-4 bg-white rounded-2xl card-shadow">
          <label class="text-xs text-gray-500">Pickup</label>
          <div class="mt-1 flex items-center gap-2">
            <input id="pickup" class="flex-1 p-3 rounded-lg border border-gray-200" placeholder="Where are you now? e.g., 221B Baker St" value="" />
            <button id="use-location" class="px-3 py-2 rounded-lg bg-gray-100 text-sm">Use GPS</button>
          </div>

          <label class="text-xs text-gray-500 mt-3">Drop-off</label>
          <div class="mt-1">
            <input id="dropoff" class="w-full p-3 rounded-lg border border-gray-200" placeholder="Where to?" value="" />
          </div>

          <div class="mt-4 flex items-center gap-2">
            <button id="find-rides" class="flex-1 px-4 py-3 rounded-lg bg-gradient-to-r from-teal-400 to-cyan-400 text-white font-medium">Find Rides</button>
            <button id="schedule" class="px-3 py-3 rounded-lg border border-gray-200">Schedule</button>
          </div>

          <div class="mt-4 text-xs text-gray-500">
            Tip: try addresses, landmarks, or pin on the map.
          </div>
        </div>

        <!-- Ride Options list -->
        <div id="rides-list" class="p-4 bg-white rounded-2xl card-shadow space-y-3">
          <h3 class="text-sm font-semibold">Available ride types</h3>

          <!-- Sample ride cards (populated by JS as well) -->
          <div class="ride-option flex items-center justify-between p-3 rounded-lg border border-gray-100" data-type="economy" data-base="2.50" data-perkm="0.60">
            <div class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center font-semibold">E</div>
              <div>
                <div class="text-sm font-medium">Economy</div>
                <div class="text-xs text-gray-500">Affordable, 4 seats</div>
              </div>
            </div>
            <div class="text-right">
              <div class="price text-sm font-semibold">₹120</div>
              <div class="text-xs text-gray-400">~8 mins</div>
            </div>
          </div>

          <div class="ride-option flex items-center justify-between p-3 rounded-lg border border-gray-100" data-type="premium" data-base="4.00" data-perkm="1.20">
            <div class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center font-semibold">P</div>
              <div>
                <div class="text-sm font-medium">Premium</div>
                <div class="text-xs text-gray-500">Newer cars, 4 seats</div>
              </div>
            </div>
            <div class="text-right">
              <div class="price text-sm font-semibold">₹220</div>
              <div class="text-xs text-gray-400">~4 mins</div>
            </div>
          </div>

          <div class="ride-option flex items-center justify-between p-3 rounded-lg border border-gray-100" data-type="xl" data-base="6.50" data-perkm="1.60">
            <div class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center font-semibold">XL</div>
              <div>
                <div class="text-sm font-medium">XL</div>
                <div class="text-xs text-gray-500">6 seats, more luggage</div>
              </div>
            </div>
            <div class="text-right">
              <div class="price text-sm font-semibold">₹350</div>
              <div class="text-xs text-gray-400">~9 mins</div>
            </div>
          </div>

        </div>

        <!-- Payment & Promo -->
        <div class="p-4 bg-white rounded-2xl card-shadow">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-xs text-gray-500">Payment</div>
              <div class="text-sm font-medium">**** 4242 • Google Pay</div>
            </div>
            <button class="text-sm text-teal-600">Change</button>
          </div>
          <div class="mt-4 text-xs text-gray-500">Promo</div>
          <div class="mt-2 flex gap-2">
            <input id="promo" class="flex-1 p-2 rounded-lg border border-gray-200" placeholder="Promo code" />
            <button class="px-3 py-2 rounded-lg bg-gray-100">Apply</button>
          </div>
        </div>

      </section>

      <!-- Middle: Map -->
      <section class="md:col-span-2 space-y-4">
        <div class="map-placeholder rounded-2xl h-96 p-4 flex flex-col justify-between">
          <div class="flex items-center justify-between">
            <div class="bg-white rounded-lg p-3 shadow">Map area (placeholder)</div>
            <div class="bg-white rounded-lg p-3 shadow flex items-center gap-2">
              <button id="zoom-in" class="px-2 py-1 rounded">+</button>
              <button id="zoom-out" class="px-2 py-1 rounded">-</button>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-3 shadow flex items-center justify-between">
            <div>
              <div class="text-sm font-medium" id="route-summary">No route selected</div>
              <div class="text-xs text-gray-500" id="route-distance">—</div>
            </div>
            <div class="flex items-center gap-2">
              <div class="text-xs text-gray-500">Est. fare</div>
              <div id="est-fare" class="text-lg font-semibold">₹—</div>
            </div>
          </div>
        </div>

        <!-- Active driver card / bottom sheet -->
        <div id="driver-card" class="p-4 bg-white rounded-2xl card-shadow hidden">
          <div class="flex items-center gap-3">
            <img id="driver-photo" src="https://via.placeholder.com/64" alt="driver" class="w-16 h-16 rounded-lg object-cover" />
            <div class="flex-1">
              <div class="flex items-center justify-between">
                <div>
                  <div id="driver-name" class="font-semibold">Aman K</div>
                  <div id="driver-car" class="text-xs text-gray-500">Swift Dzire • KA-05-AB-1234</div>
                </div>
                <div class="text-right">
                  <div class="text-sm font-semibold">4.9 ★</div>
                  <div class="text-xs text-gray-400">12 rides today</div>
                </div>
              </div>
              <div class="mt-3 flex gap-2">
                <button id="contact-driver" class="flex-1 px-4 py-2 rounded-lg border border-gray-200">Call</button>
                <button id="cancel-ride" class="px-4 py-2 rounded-lg bg-red-50 text-red-600">Cancel</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Booking CTA -->
        <div id="booking-cta" class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[92%] max-w-3xl p-4 bg-white rounded-3xl card-shadow flex items-center justify-between">
          <div>
            <div id="selected-ride" class="text-sm font-medium">Select a ride</div>
            <div class="text-xs text-gray-500">Add pickup and drop-off to see price</div>
          </div>
          <div>
            <button id="confirm-book" class="px-6 py-3 rounded-lg bg-gradient-to-r from-teal-500 to-cyan-400 text-white font-semibold">Confirm</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Booking modal (hidden) -->
  <div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center p-4">
    <div class="bg-white rounded-2xl w-full max-w-xl p-6">
      <h3 class="text-lg font-semibold">Confirm your ride</h3>
      <p class="text-sm text-gray-500 mt-1">Please confirm pickup & drop-off and choose payment.</p>

      <div class="mt-4 space-y-2">
        <div class="flex justify-between">
          <div class="text-xs text-gray-500">Pickup</div>
          <div id="modal-pickup" class="text-sm font-medium">—</div>
        </div>
        <div class="flex justify-between">
          <div class="text-xs text-gray-500">Drop-off</div>
          <div id="modal-dropoff" class="text-sm font-medium">—</div>
        </div>
        <div class="flex justify-between">
          <div class="text-xs text-gray-500">Ride</div>
          <div id="modal-ride" class="text-sm font-medium">—</div>
        </div>
        <div class="flex justify-between">
          <div class="text-xs text-gray-500">Fare</div>
          <div id="modal-fare" class="text-sm font-medium">—</div>
        </div>
      </div>

      <div class="mt-6 flex gap-3">
        <button id="pay-now" class="flex-1 px-4 py-3 rounded-lg bg-teal-500 text-white font-semibold">Pay & Book</button>
        <button id="close-modal" class="flex-1 px-4 py-3 rounded-lg border border-gray-200">Back</button>
      </div>
    </div>
  </div>

  <script>
    // Small client-side logic for prototype behavior
    const rides = Array.from(document.querySelectorAll('.ride-option'));
    const selectedRideLabel = document.getElementById('selected-ride');
    let selectedRide = null;

    function formatINR(n) {
      // Simple INR formatting (no external libs)
      return '₹' + Number(n).toLocaleString('en-IN', { maximumFractionDigits: 0 });
    }

    rides.forEach(r => {
      r.addEventListener('click', () => {
        rides.forEach(x => x.classList.remove('ring-2','ring-teal-200'));
        r.classList.add('ring-2','ring-teal-200');
        selectedRide = {
          type: r.dataset.type,
          base: parseFloat(r.dataset.base),
          perkm: parseFloat(r.dataset.perkm)
        };
        selectedRideLabel.textContent = r.querySelector('.text-sm.font-medium').textContent + ' — select to confirm';
        updateEstFare();
      });
    });

    function computeFare(base, perkm, distanceKm) {
      // very simple fare calc: base + perkm*distance + small service fee
      const service = 0.6 * distanceKm;
      return Math.max(30, base + perkm * distanceKm + service);
    }

    function updateEstFare() {
      const distEl = document.getElementById('route-distance');
      const fareEl = document.getElementById('est-fare');
      // mock distance if user provided locations
      const pickup = document.getElementById('pickup').value.trim();
      const drop = document.getElementById('dropoff').value.trim();
      let km = 5;
      if (pickup && drop) {
        // heuristics: longer if strings are very different
        km = Math.min(28, Math.max(2, Math.abs(pickup.length - drop.length) + 3));
      }
      distEl.textContent = km + ' km';

      if (selectedRide) {
        const fare = computeFare(selectedRide.base, selectedRide.perkm, km);
        fareEl.textContent = formatINR(fare);
        document.querySelectorAll('.ride-option').forEach(r => r.querySelector('.price').textContent = formatINR(computeFare(parseFloat(r.dataset.base), parseFloat(r.dataset.perkm), km)));
      } else {
        fareEl.textContent = '—';
      }
    }

    document.getElementById('find-rides').addEventListener('click', () => {
      updateEstFare();
      // quick shake the list to indicate results
      const list = document.getElementById('rides-list');
      list.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-6px)' }, { transform: 'translateY(0)' }], { duration: 300 });
    });

    document.getElementById('confirm-book').addEventListener('click', () => {
      if (!selectedRide) {
        alert('Please select a ride type first.');
        return;
      }
      const pickup = document.getElementById('pickup').value || 'Current location';
      const drop = document.getElementById('dropoff').value || '—';
      const km = document.getElementById('route-distance').textContent.replace(' km','') || '5';
      const fare = document.getElementById('est-fare').textContent;

      document.getElementById('modal-pickup').textContent = pickup;
      document.getElementById('modal-dropoff').textContent = drop;
      document.getElementById('modal-ride').textContent = selectedRide.type;
      document.getElementById('modal-fare').textContent = fare;

      document.getElementById('modal').classList.remove('hidden');
      document.getElementById('modal').classList.add('flex');
    });

    document.getElementById('close-modal').addEventListener('click', () => {
      document.getElementById('modal').classList.add('hidden');
      document.getElementById('modal').classList.remove('flex');
    });

    document.getElementById('pay-now').addEventListener('click', () => {
      // simulate booked driver
      document.getElementById('modal').classList.add('hidden');
      document.getElementById('modal').classList.remove('flex');

      const driverCard = document.getElementById('driver-card');
      document.getElementById('driver-name').textContent = 'Ravi P.';
      document.getElementById('driver-car').textContent = 'Honda City • MH-12-XY-9876';
      driverCard.classList.remove('hidden');

      // update CTA
      selectedRideLabel.textContent = 'Driver arriving • 2 mins';
    });

    document.getElementById('cancel-ride').addEventListener('click', () => {
      if (confirm('Cancel this ride?')) {
        document.getElementById('driver-card').classList.add('hidden');
        selectedRideLabel.textContent = 'Select a ride';
      }
    });

    // quick GPS stub
    document.getElementById('use-location').addEventListener('click', () => {
      document.getElementById('pickup').value = 'Using GPS — Current Location';
      updateEstFare();
    });

    // small helpers
    document.getElementById('pickup').addEventListener('input', updateEstFare);
    document.getElementById('dropoff').addEventListener('input', updateEstFare);

    // zoom stub
    document.getElementById('zoom-in').addEventListener('click', () => alert('Zoom In — integrate with map API'));
    document.getElementById('zoom-out').addEventListener('click', () => alert('Zoom Out — integrate with map API'));

    // SOS
    document.getElementById('btn-sos').addEventListener('click', () => alert('SOS triggered — call emergency contact'));

    // initial fare calc
    updateEstFare();
  </script>
</body>
</html>
